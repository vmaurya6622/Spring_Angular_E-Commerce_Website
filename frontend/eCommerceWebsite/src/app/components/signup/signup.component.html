<div class="signup-container">
	<div class="signup-card">
		<div class="signup-logo" (click)="goToHome()" style="cursor: pointer;">
			<img src="assets/logo.png" alt="InstaKart Logo">
		</div>
		<h2>Create Account</h2>
		<p class="subtitle">Join us today and start shopping!</p>

		<div *ngIf="errorMessage" class="alert error">{{ errorMessage }}</div>
		<div *ngIf="successMessage" class="alert success">{{ successMessage }}</div>

		<form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
			<div class="form-row">
				<div class="form-group">
					<label for="name">Full Name *</label>
					<input 
						type="text" 
						id="name" 
						formControlName="name" 
						placeholder="Enter your full name"
						[class.invalid]="f['name'].invalid && f['name'].touched">
					<div *ngIf="f['name'].invalid && f['name'].touched" class="error-text">
						<span *ngIf="f['name'].errors?.['required']">Name is required</span>
						<span *ngIf="f['name'].errors?.['minlength']">Name must be at least 2 characters</span>
					</div>
				</div>

				<div class="form-group">
					<label for="age">Age *</label>
					<input 
						type="number" 
						id="age" 
						formControlName="age" 
						placeholder="Age"
						[class.invalid]="f['age'].invalid && f['age'].touched">
					<div *ngIf="f['age'].invalid && f['age'].touched" class="error-text">
						<span *ngIf="f['age'].errors?.['required']">Age is required</span>
						<span *ngIf="f['age'].errors?.['min'] || f['age'].errors?.['max']">Age must be between 1 and 120</span>
					</div>
				</div>
			</div>

			<div class="form-row">
				<div class="form-group">
					<label for="sex">Gender *</label>
					<select 
						id="sex" 
						formControlName="sex"
						[class.invalid]="f['sex'].invalid && f['sex'].touched">
						<option value="">Select Gender</option>
						<option value="Male">Male</option>
						<option value="Female">Female</option>
						<option value="Other">Other</option>
					</select>
					<div *ngIf="f['sex'].invalid && f['sex'].touched" class="error-text">
						Gender is required
					</div>
				</div>

				<div class="form-group">
					<label for="dob">Date of Birth *</label>
					<input 
						type="date" 
						id="dob" 
						formControlName="dob"
						[class.invalid]="f['dob'].invalid && f['dob'].touched">
					<div *ngIf="f['dob'].invalid && f['dob'].touched" class="error-text">
						Date of birth is required
					</div>
				</div>
			</div>

			<div class="form-group">
				<label for="mobile">Mobile Number *</label>
				<input 
					type="tel" 
					id="mobile" 
					formControlName="mobile" 
					placeholder="10-digit mobile number"
					[class.invalid]="f['mobile'].invalid && f['mobile'].touched">
				<div *ngIf="f['mobile'].invalid && f['mobile'].touched" class="error-text">
					<span *ngIf="f['mobile'].errors?.['required']">Mobile number is required</span>
					<span *ngIf="f['mobile'].errors?.['pattern']">Enter a valid 10-digit mobile number</span>
				</div>
			</div>

			<div class="form-group">
				<label for="address">Address *</label>
				<textarea 
					id="address" 
					formControlName="address" 
					rows="3" 
					placeholder="Enter your complete address"
					[class.invalid]="f['address'].invalid && f['address'].touched"></textarea>
				<div *ngIf="f['address'].invalid && f['address'].touched" class="error-text">
					Address is required
				</div>
			</div>

			<div class="form-row">
				<div class="form-group">
					<label for="username">Username *</label>
					<input 
						type="text" 
						id="username" 
						formControlName="username" 
						placeholder="Choose a username"
						[class.invalid]="f['username'].invalid && f['username'].touched">
					<div *ngIf="f['username'].invalid && f['username'].touched" class="error-text">
						<span *ngIf="f['username'].errors?.['required']">Username is required</span>
						<span *ngIf="f['username'].errors?.['minlength']">Username must be at least 3 characters</span>
					</div>
				</div>

				<div class="form-group">
					<label for="email">Email *</label>
					<input 
						type="email" 
						id="email" 
						formControlName="email" 
						placeholder="email@example.com"
						[class.invalid]="f['email'].invalid && f['email'].touched">
					<div *ngIf="f['email'].invalid && f['email'].touched" class="error-text">
						<span *ngIf="f['email'].errors?.['required']">Email is required</span>
						<span *ngIf="f['email'].errors?.['email']">Enter a valid email</span>
					</div>
				</div>
			</div>

			<div class="form-group">
				<label for="password">Password *</label>
				<input 
					type="password" 
					id="password" 
					formControlName="password" 
					placeholder="Minimum 6 characters"
					[class.invalid]="f['password'].invalid && f['password'].touched">
				<div *ngIf="f['password'].invalid && f['password'].touched" class="error-text">
					<span *ngIf="f['password'].errors?.['required']">Password is required</span>
					<span *ngIf="f['password'].errors?.['minlength']">Password must be at least 6 characters</span>
				</div>
			</div>

			<button type="submit" class="signup-btn" [disabled]="signupForm.invalid">
				Sign Up
			</button>
		</form>

		<p class="login-link">
			Already have an account? <a routerLink="/login">Login here</a>
		</p>
	</div>
</div>
